<section  class="content">
  <div class="container-fluid">
    <div class="card">
      <div class="card-header">
        <h3 class="card-title">Check in</h3>
        <div class="card-tools">

          <button type="button" class="btn btn-tool" data-card-widget="collapse">
            <i class="fas fa-minus"></i>
          </button>
          <button type="button" class="btn btn-tool" data-card-widget="remove">
            <i class="fas fa-times"></i>
          </button>
        </div>
      </div>
      <!-- /.card-header -->
      <div class="card-body">
        <div class="tab-pane fade show active" id="custom-tabs-one-home" role="tabpanel"
          aria-labelledby="custom-tabs-one-home-tab">
          <div class="card-body">
            <table id="mytable" class="table table-bordered table-striped table-hover responsive" style="width: 100%;" datatable [dtOptions]="dtoptions"
            [dtTrigger]="dtTrigger">
              <thead>
                <tr>
                  <th>No</th>
                  <th>Regstration Number </th>


                  <th>Room Number </th>
                  <th>Room Type </th>

                  <th>Hostel </th>
                  <th>Location </th>
                  <th>Room Cost</th>
                  <th >Action</th>



                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let allocation of batchallocations_appproved, let i = index">
                  <td>{{ i +1}}</td>
                  <td>{{ allocation.reg_number}}</td>

                  <td>{{ allocation.room_number }}</td>
                  <td>{{ allocation.room_type }}</td>

                  <td>{{ allocation.hostel_name }}</td>

                  <td>{{ allocation.location_name }}</td>
                  <td>{{ allocation.room_price}}</td>
                  <td   >
                    <button  class="btn btn-primary btn-sm" data-toggle="modal" [attr.data-target]="'#checkin-modal-sm' + i"> check in </button>


                </td>

                           <!-- deactivate modal -->
                           <div class="modal fade" id="checkin-modal-sm{{ i }}">
                            <div class="modal-dialog modal-md">
                              <div class="modal-content">
                                <div class="modal-header">
                                  <h4 class="modal-title">Confirm check in</h4>
                                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                  </button>
                                </div>
                                <div class="modal-body">

<form #confirmcheckin="ngForm">
<div class="row mb-3">
  <div class="col-12">
    <label for="">Receipt Number</label>
    <input type="text" placeholder="optional" class="form-control" name="receipt_number" [(ngModel)]="receipt_number" >
  </div>

</div>
<div class="row mt-3">
  <div class="col-12">
    <label for="">Date Checked</label>
    <input type="date"  name="date_checked" [(ngModel)]="datechecked" >
      </div>
</div>

</form>




                                </div>
                                <div class="modal-footer justify-content-between">
                                  <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">
                                    Cancel
                                  </button>
                                  <button type="button" data-dismiss="modal" (click)=" checkin(allocation)"  class="btn btn-primary btn-sm">
                          confirm checkin
                                  </button>
                                </div>
                              </div>
                              <!-- /.modal-content -->
                            </div>
                            <!-- /.modal-dialog -->
                          </div>

                </tr>
              </tbody>
            </table>
          </div>
          <!-- /.card-body -->
        </div>
      </div>
      <!-- /.card-body -->
    </div>
  </div>
</section>

