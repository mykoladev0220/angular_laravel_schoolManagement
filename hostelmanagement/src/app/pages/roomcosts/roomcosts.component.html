<ngx-ui-loader
text="loading   please wait..."
overlayColor="#fff"
textColor="#c2a458"
fgsColor="#c2a458"
fgsType="square-jelly-box"
></ngx-ui-loader>

<div *ngIf="myrights.create_room_costs" class="card">
  <div class="card-header  ">

    <div class="card-tools">

    <app-period-dropdown-options></app-period-dropdown-options>


    </div>
    <h5 class="upper">Room Costs</h5>

  </div>
</div>
<div class="card card-default">

  <div class="card-header">
    <h3 class="card-title">Set Room Cost </h3>

    <div class="card-tools">
      <button type="button" class="btn btn-tool" data-card-widget="collapse">
        <i class="fas fa-minus"></i>
      </button>
      <button type="button" class="btn btn-tool" data-card-widget="remove">
        <i class="fas fa-times"></i>
      </button>
    </div>
  </div>
  <!-- /.card-header -->
  <div class="card-body">
    <form #setroomcostForm="ngForm" (ngSubmit)="setRoomTypeCost(setroomcostForm)">


      <div class="row">
        <div class="col-md-5">
          <div class="form-group">
            <label for="exampleInputEmail1">Period</label>
            <select class="form-control select2" required name="active_period_id" (change)=" getroomtypeCosts(setroomcostForm.value.active_period_id)" [(ngModel)]="this.activeperiod.active_period_id" style="width: 100%;">
              <option value="">select period</option>
              <option *ngFor="let period of periods" [ngValue]="period.active_period_id">{{period.period_name}}</option>

            </select>
          </div>

        </div>
        <!-- /.col -->
        <div class="col-md-4">
          <div class="form-group">
            <label for="exampleInputEmail1">Room Type</label>
            <select class="form-control select2" required name="room_type_id" ngModel style="width: 100%;">
              <option value="">select room type</option>
              <option *ngFor="let roomtype of roomTypes" [ngValue]="roomtype.room_type_id">{{roomtype.room_type}}
              </option>

            </select>
          </div>

        </div>

        <!-- /.col -->
        <div class="col-md-3">
          <div class="form-group">
            <label for="exampleInputEmail1">Cost</label>
            <input type="number" class="form-control" min="1" name="room_price" required placeholder="Enter room price"
              ngModel>
          </div>

        </div>

        <!-- /.col -->
      </div>
      <!-- /.row -->


      <div class="row">
        <div class="col-12 col-sm-6">
          <button class="btn btn-primary" [disabled]="setroomcostForm.form.invalid" type="submit">Create</button>
        </div>

      </div>
      <!-- /.card-body -->
    </form>
  </div>
</div>

<!-- DataTables -->

<!-- Main content -->
<section class="content">
  <div class="container-fluid">
    <div class="card">

      <div class="card-header">
        <h3 class="card-title">Room Costs</h3>
      </div>

      <!-- /.card-header -->
      <div class="card-body">




        <table id="mytable" datatable [dtOptions]="dtoptions" [dtTrigger]="dtTrigger"
          class="table table-bordered table-striped table-hover responsive" style="width: 100%;">
          <thead>
            <tr>
              <th>No</th>
              <th>Room Types</th>
              <th>period</th>
              <th>Costs</th>


            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let roomtypecost of roomTypeCost; let i = index">
              <td>{{ i+1 }}</td>
              <td>{{ roomtypecost.room_type }}</td>
              <td>{{roomtypecost.period_name }}</td>
              <td>{{roomtypecost.room_price}}</td>



            </tr>
          </tbody>
        </table>
      </div>
      <!-- /.card-body -->
    </div>
    <!-- /.content-header -->
  </div>
</section>
